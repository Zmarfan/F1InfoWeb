<section class="profile-header">
    <span *ngIf="loggedIn" (click)="bellToggle($event)" class="regular-icon">
        <fa-icon [icon]="['far', 'bell']"></fa-icon>
        <span *ngIf="amountOfUnOpenedBellItems > 0" class="fa-layers-counter regular-icon__counter">{{amountOfUnOpenedBellItems}}</span>

        <div *ngIf="bellOpen" @bellInOutAnimation class="bell-holder">
            <ng-container *ngFor="let item of bellItems">
                <div (click)="item.onClick()" class="bell-holder__entry" [class.bell-holder__entry--new]="!item.opened">
                    <fa-icon [icon]="item.icon"></fa-icon>
                    <span [innerHTML]="item.key | translate:item.keyParams"></span>
                </div>
            </ng-container>
            <div *ngIf="bellItems.length === 0" class="bell-holder__no-messages">{{'navigation.profile.noNewBellNotifications' | translate}}</div>
        </div>
    </span>

    <fa-icon (click)="infoButtonCallback()" [icon]="['far', 'question-circle']" class="regular-icon"></fa-icon>

    <div class="user-section">
        <div (click)="menuToggle($event)" class="user-section__menu">
            <fa-icon icon="circle-user" class="user-section__icon"></fa-icon>
            <div class="user-section__names">
                <span class="user-section__user-name">{{session.user?.displayName}}</span>
                <span class="user-section__display-name">{{session.user?.email ?? 'navigation.profile.anonymousUser' | translate}}</span>
            </div>
            <fa-icon icon="caret-down" class="user-section__arrow"></fa-icon>
        </div>

        <div *ngIf="menuOpen" @inOutAnimation class="display-menu display-menu--desktop">
            <div
                *ngFor="let menuItem of menuItems; let last = last"
                (click)="menuItem.clickCallback()"
                [ngClass]="{'display-menu__wide': last}"
                class="display-menu__route {{menuItem.cssClass}}"
            >
                <fa-icon class="fa-fw" [icon]="menuItem.icon"></fa-icon>
                <span>{{menuItem.translationKey | translate}}</span>
            </div>
        </div>
    </div>
</section>
