<article class="friends-main">
    <h2>{{'friends.header' | translate}}</h2>

    <section class="friends-add-friend">
        <h3 class="friends-add-friend__header">{{'friends.addFriend' | translate}}</h3>

        <div class="friends-add-friend__body">
            <h3>{{'friends.yourFriendCode' | translate}}</h3>
            <div class="friends-add-friend__my-detail-holder">
                <span class="friends-add-friend__friend-code">{{friendResponse.myCode}}</span>
                <app-copy-button [copyText]="friendResponse.myCode"></app-copy-button>
            </div>

            <form class="friends-add-friend__search" [formGroup]="formData" (ngSubmit)="search()">
                <app-text-input
                    class="friends-add-friend__search-field"
                    [inputConfig]="{
                        formControl: friendCode,
                        labelKey: 'friends.friendCodeLabel',
                        hintKey: 'friends.friendCodeHint',
                        inputType: 'text',
                        idAttribute: 'friendCodeId'
                    }"
                    formControlName="friendCode"
                ></app-text-input>

                <button appPrimaryButton [disabled]="!formData.valid">{{'buttons.search' | translate}}</button>
            </form>

            <div *ngIf="hasSearched">
                <app-loading-element [loading]="searching">
                    <section class="friends-add-friend__to-add-holder">
                        <ng-container *ngIf="searchFriendResponse?.user; else noResult">
                            <div class="friends-add-friend__to-add">
                                <img src="https://picsum.photos/100/100">

                                <div>
                                    <h3>Lord_Zmarfan</h3>
                                    <span>{{'friends.friendsInCommon' | translate:{ amount: 3 } }}</span>
                                </div>
                            </div>
                            <button appPrimaryButton>{{'friends.addFriendButton' | translate}}</button>
                        </ng-container>
                        <ng-template #noResult>
                            <span>{{'friends.noResult' | translate}}</span>
                        </ng-template>
                    </section>
                </app-loading-element>
            </div>
        </div>
    </section>
</article>
