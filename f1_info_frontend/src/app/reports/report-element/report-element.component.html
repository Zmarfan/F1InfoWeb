<app-loading-element [loading]="loading" offset="top">
    <table *ngIf="rows.length > 0; else noData" class="main-table">
        <tr>
            <ng-container *ngFor="let column of table.columns">
                <th class="{{column.onlyDesktop ? 'desktop' : ''}}">
                    <span
                        *ngIf="sortConfig; else normalColumn"
                        (click)="sortColumn(column)"
                        class="main-table__sortable-column"
                    >{{column.key | translate}}</span>
                    <fa-icon *ngIf="columnIsCurrentlySorting(column)" [icon]="sortableColumnIcon(column)"></fa-icon>
                    <ng-template #normalColumn>{{column.key | translate}}</ng-template>
                </th>
            </ng-container>
        </tr>
        <tr *ngFor="let row of table.rows">
            <ng-container *ngFor="let column of table.columns">
                <td class="{{column.onlyDesktop ? 'desktop' : ''}}">
                    <app-compose *ngIf="rowEntryHasViewModel(row[column.entryName]); else basicEntry" [item]="row[column.entryName]"></app-compose>
                    <ng-template #basicEntry>{{row[column.entryName] ?? '-'}}</ng-template>
                </td>
            </ng-container>
        </tr>
    </table>

    <ng-template #noData>
        <div class="no-data-message">{{'reports.noData' | translate}}</div>
    </ng-template>
</app-loading-element>
